{"version":3,"sources":["redux/users/users-operations.js","redux/users/users-selectors.js","redux/users/users-slice.js","redux/contacts/contacts-reducer.js","redux/store.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/UserNav.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","components/Loader/Loader.js","App.js","index.js","components/Navigation/Navigation.module.scss","components/UserMenu/UserMenu.module.scss","components/Button/Button.js","components/Container/Container.js","redux/contacts/contacts-actions.js","components/Container/Container.module.scss","components/Button/Button.module.scss","components/AppBar/AppBar.module.scss","components/Loader/Loader.module.scss","redux/contacts/contacts-operations.js"],"names":["axios","defaults","baseURL","token","headers","Authorization","operations","register","createAsyncThunk","credentials","thunkAPI","a","post","data","rejectWithValue","toast","error","message","logIn","logOut","_","fetchCurrentUser","state","getState","persistedToken","users","console","log","get","response","userSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","name","userSlice","createSlice","initialState","email","isFetchingCurrentUser","extraReducers","userOperations","fulfilled","action","payload","password","pending","rejected","items","createReducer","contactsOperations","fetchContacts","addContacts","deleteContacts","filter","id","loading","changeFilter","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","userPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","userReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","Navigation","useSelector","to","exact","className","s","link","activeClassName","activeLink","UserMenu","useState","bgColour","setBgColour","dispatch","useDispatch","wrapper","text","userName","Button","onClick","style","backgroundColor","onMouseEnter","onMouseLeave","UserNav","AppBar","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","LoaderContainer","loaderContainer","type","color","height","width","timeout","HomeView","lazy","LoginView","RegisterView","ContactsView","App","useEffect","Container","fallback","Loader","path","position","ReactDOM","render","StrictMode","document","getElementById","module","exports","otherProps","button","defaultProps","createAction","number","contact","nanoid","delete"],"mappings":"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","file":"static/js/main.4fb423ed.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk(\r\n  \"user/register\",\r\n  async (credentials, thunkAPI) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/signup\", credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(\r\n        toast.error(`Register error ${error.message}`)\r\n      );\r\n    }\r\n  }\r\n);\r\n\r\nconst logIn = createAsyncThunk(\"user/login\", async (credentials, thunkAPI) => {\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(\r\n      toast.error(`Login error ${error.message}`)\r\n    );\r\n  }\r\n});\r\n\r\nconst logOut = createAsyncThunk(\"user/logout\", async (_, thunkAPI) => {\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n    token.unset();\r\n  } catch (error) {\r\n    return thunkAPI.rejectWithValue(\r\n      toast.error(`Log out error ${error.message}`)\r\n    );\r\n  }\r\n});\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  \"user/refresh\",\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.users.token;\r\n\r\n    if (persistedToken === null) {\r\n      console.log(\"Токена нет, уходим из fetchCurrentUser\");\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error.response;\r\n    }\r\n  }\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  fetchCurrentUser,\r\n};\r\n\r\nexport default operations;\r\n","const getIsLoggedIn = (state) => state.users.isLoggedIn;\r\nconst getUsername = (state) => state.users.user.name;\r\n\r\nconst userSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n};\r\n\r\nexport default userSelectors;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport userOperations from \"./users-operations\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrentUser: false,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState,\r\n  extraReducers: {\r\n    [userOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [userOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [userOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null, password: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [userOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrentUser = true;\r\n    },\r\n    [userOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n    [userOperations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { changeFilter } from \"./contacts-actions\";\r\n\r\nimport contactsOperations from \"./contacts-operations\";\r\n\r\nconst items = createReducer([], {\r\n  [contactsOperations.fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n  [contactsOperations.addContacts.fulfilled]: (state, { payload }) => [\r\n    payload,\r\n    ...state,\r\n  ],\r\n  [contactsOperations.deleteContacts.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [contactsOperations.fetchContacts.pending]: () => true,\r\n  [contactsOperations.fetchContacts.fulfilled]: () => false,\r\n  [contactsOperations.fetchContacts.rejected]: () => false,\r\n\r\n  [contactsOperations.addContacts.pending]: () => true,\r\n  [contactsOperations.addContacts.fulfilled]: () => false,\r\n  [contactsOperations.addContacts.rejected]: () => false,\r\n\r\n  [contactsOperations.deleteContacts.pending]: () => true,\r\n  [contactsOperations.deleteContacts.fulfilled]: () => false,\r\n  [contactsOperations.deleteContacts.rejected]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [contactsOperations.fetchContacts.rejected]: (_, action) => action.payload,\r\n  [contactsOperations.fetchContacts.pending]: () => null,\r\n\r\n  [contactsOperations.addContacts.rejected]: (_, action) => action.payload,\r\n  [contactsOperations.addContacts.pending]: () => null,\r\n\r\n  [contactsOperations.deleteContacts.rejected]: (_, action) => action.payload,\r\n  [contactsOperations.deleteContacts.pending]: () => null,\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n// import { configureStore } from \"@reduxjs/toolkit\";\r\n// import contactsReducer from \"./contacts/contacts-reducer\";\r\n\r\n// const store = configureStore({\r\n//   reducer: {\r\n//     contacts: contactsReducer,\r\n//   },\r\n// });\r\n\r\n// export default { store };\r\n\r\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport logger from \"redux-logger\";\r\nimport contactsReducer from \"./contacts/contacts-reducer\";\r\nimport { userReducer } from \"./users\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nconst userPersistConfig = {\r\n  key: \"user\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    users: persistReducer(userPersistConfig, userReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV !== \"production\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\n//setupListeners(store.dispatch);\r\n\r\nexport default { store, persistor };\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userSelectors } from \"../../redux/users\";\r\nimport s from \"./Navigation.module.scss\";\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(userSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\r\n        General\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userOperations } from \"../../redux/users\";\r\nimport { userSelectors } from \"../../redux/users\";\r\nimport { ImExit } from \"react-icons/im\";\r\nimport Button from \"../Button/Button\";\r\nimport s from \"./UserMenu.module.scss\";\r\n\r\nconst UserMenu = () => {\r\n  const [bgColour, setBgColour] = useState(\"#a1a1a4\");\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(userSelectors.getUsername);\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <p className={s.text}>\r\n        Hi, <span className={s.userName}>{name}</span>\r\n      </p>\r\n      <Button\r\n        onClick={() => dispatch(userOperations.logOut())}\r\n        style={{ backgroundColor: `${bgColour}` }}\r\n        onMouseEnter={() => setBgColour(\"#8f8f8c\")}\r\n        onMouseLeave={() => setBgColour(\"#a1a1a4\")}\r\n      >\r\n        <ImExit />\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMenu;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navigation/Navigation.module.scss\";\r\n\r\nconst UserNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      className={s.link}\r\n      activeClassName={s.activeLink}\r\n    >\r\n      Registration\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      className={s.link}\r\n      activeClassName={s.activeLink}\r\n    >\r\n      Login\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default UserNav;\r\n","import { useSelector } from \"react-redux\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport UserNav from \"../UserNav\";\r\nimport { userSelectors } from \"../../redux/users\";\r\nimport s from \"./AppBar.module.scss\";\r\n\r\nconst AppBar = () => {\r\n  const isLoggedIn = useSelector(userSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <UserNav />}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { userSelectors } from \"../redux/users\";\r\n\r\nconst PrivateRoute = ({ children, redirectTo = \"/\", ...routeProps }) => {\r\n  const isLoggedIn = useSelector(userSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { userSelectors } from \"../redux/users\";\r\n\r\nconst PublicRoute = ({\r\n  children,\r\n  redirectTo = \"/\",\r\n  restricted = false,\r\n  ...routeProps\r\n}) => {\r\n  const isLoggedIn = useSelector(userSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.scss\";\r\n\r\nconst LoaderContainer = () => {\r\n  return (\r\n    <div className={s.loaderContainer}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#008b8b\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderContainer;\r\n","import { useEffect, Suspense, lazy } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport Container from \"./components/Container/Container\";\r\nimport AppBar from \"./components/AppBar/AppBar\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\nimport PublicRoute from \"./components/PublicRoute\";\r\nimport Loader from \"./components/Loader/Loader\";\r\nimport { userOperations } from \"./redux/users\";\r\n\r\nconst HomeView = lazy(() => import(\"./views/HomeView/HomeView\"));\r\nconst LoginView = lazy(() => import(\"./views/LoginView\"));\r\nconst RegisterView = lazy(() => import(\"./views/RegisterView\"));\r\nconst ContactsView = lazy(() => import(\"./views/ContactsView\"));\r\n\r\nconst App = () => {\r\n  const isFetchingCurrentUser = useSelector(\r\n    (state) => state.users.isFetchingCurrentUser\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(userOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    !isFetchingCurrentUser && (\r\n      <Container>\r\n        <AppBar />\r\n        <Switch>\r\n          <Suspense fallback={<Loader />}>\r\n            <PublicRoute exact path=\"/\">\r\n              <HomeView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/register\" restricted>\r\n              <RegisterView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\r\n              <LoginView />\r\n            </PublicRoute>\r\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\r\n              <ContactsView />\r\n            </PrivateRoute>\r\n          </Suspense>\r\n        </Switch>\r\n        <Toaster position=\"top-center\" />\r\n      </Container>\r\n    )\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./styles/base.module.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1T8Wi\",\"activeLink\":\"Navigation_activeLink__tBRli\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserMenu_wrapper__3kLnt\",\"text\":\"UserMenu_text__2huCj\",\"userName\":\"UserMenu_userName__8-Sxy\"};","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.scss\";\r\n\r\nconst Button = ({ children, onClick, type = \"button\", ...otherProps }) => (\r\n  <button type={type} className={s.button} onClick={onClick} {...otherProps}>\r\n    {children}\r\n  </button>\r\n);\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Container.module.scss\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.Container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const changeFilter = createAction(\"contacts/changeFilter\");\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__4MUz2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__K49wf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1OxCu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__DwwAB\"};","/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com/\";\r\n\r\nconst getContacts = () => {\r\n  return axios.get(\"/contacts\");\r\n};\r\n\r\nconst fetchContacts = createAsyncThunk(\r\n  \"contacts/fetchContacts\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await getContacts();\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response);\r\n    }\r\n  }\r\n);\r\n\r\nconst addContacts = createAsyncThunk(\r\n  \"contacts/addContacts\",\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const contact = {\r\n        id: nanoid(),\r\n        name,\r\n        number,\r\n      };\r\n\r\n      const { data } = await axios.post(`/contacts`, contact);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response);\r\n    }\r\n  }\r\n);\r\n\r\nconst deleteContacts = createAsyncThunk(\r\n  \"contacts/deleteContacts\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`contacts/${id}`);\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response);\r\n    }\r\n  }\r\n);\r\n\r\nexport default {\r\n  fetchContacts,\r\n  addContacts,\r\n  deleteContacts,\r\n};\r\n"],"sourceRoot":""}